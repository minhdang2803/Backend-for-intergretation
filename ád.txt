class LayBuoiChieuPhim(models.Model):
    maLichChieu = models.CharField(max_length=50, primary_key=True)
    maRap = models.ForeignKey(Rap, on_delete=CASCADE)
    tenRap = models.CharField(max_length=50)
    ngayChieuGioChieu = models.DateTimeField()
    giaVe = models.IntegerField()
    thoiLuong = models.IntegerField()

class LayCumRapChieu(models.Model):
    maCumRap = models.CharField(max_length=50, primary_key=True)
    tenCumRap = models.CharField(max_length=50)
    hinhanh = models.FileField(upload_to='images',blank= True)
    lichChieuPhim = models.ManyToManyField(LayBuoiChieuPhim)

class HeThongRapChieu(models.Model):
    maHeThongRap = models.CharField(max_length=50, primary_key=True)
    tenHeThongRap = models.CharField(max_length=50)
    logo = models.FileField(upload_to='images', blank=True)
    cumRapChieu = models.ManyToManyField(LayCumRapChieu)

class LayThongTinLichChieuPhim(models.Model):
    maPhim = models.ForeignKey(QuanLyPhim, on_delete=CASCADE)
    tenPhim = models.CharField(max_length=50)
    biDanh = models.CharField(max_length=50)
    trailer = models.TextField()
    hinhAnh = models.FileField(upload_to='images', blank=True)
    moTa = models.TextField()
    maNhom = models.TextField()
    ngayKhoiChieu = models.DateTimeField()
    danhGia = models.IntegerField()
    heThongRapChieu = models.ManyToManyField(HeThongRapChieu)

    def __str__(self):
        return self.maPhim